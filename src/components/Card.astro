---
interface Props {
  title: string;
  subtitle: string;
  count: number;
  totalCount: number;
  href: string;
  type: "theater" | "rating";
}

const { title, subtitle, count, totalCount, href, type } = Astro.props;

const typeLabels = {
  theater: "Movie Theater",
  rating: "Movie Rating",
};

const actionLabels = {
  theater: "View Theater",
  rating: "View Rating",
};

const percentage = Math.round((count / totalCount) * 100);
---

<li class="relative h-full">
  <a
    href={href}
    class="h-full bg-card p-4 border-r border-b border-dashed border-black hover:bg-green transition-colors block focus:outline focus:outline-black"
  >
    {/* Header */}
    <div class="text-xs uppercase tracking-wide text-black font-mono">
      <div>
        <span class="sr-only">{type}</span>
        {typeLabels[type]}
      </div>
    </div>

    {/* Title */}
    <h2 class="text-2xl font-bold leading-tight -mx-2 px-2 py-1 mb-2">
      {title}
    </h2>

    {/* Details */}
    <div class="space-y-4 text-sm">
      {/* Movies Count and Percentage */}
      <div class="flex justify-between items-center">
        <div>
          <span class="text-xs uppercase tracking-wide block mb-1">
            Movies
          </span>
          <span class="font-medium">
            {count}
            {count === 1 ? "ticket" : "tickets"}
          </span>
        </div>
        <div class="text-right">
          <span class="text-xs uppercase tracking-wide block mb-1">
            Share
          </span>
          <span class="px-2 py-1 border border-dashed text-xs font-bold">
            {percentage}%
          </span>
        </div>
      </div>

      {/* Footer */}
      <div class="pt-3 border-t border-dashed border-black">
        <div class="flex justify-between items-center">
          <span
            class="text-xs uppercase tracking-wide font-mono"
            aria-hidden="true"
          >
            {actionLabels[type]}
          </span>
          <span class="text-lg font-bold text-black">â†’</span>
        </div>
      </div>
    </div>
  </a>
</li>
